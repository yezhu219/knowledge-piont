#浏览器线程

### 线程与进程

- 进程是CPU分配资源的最小单位，
- 线程是进程中执行计算的最小单位
- 一个进程可以有多个线程，，最少一个，一个线程只能属于一个进程
- 同一进程下的线程共享该进程的资源


### 线程
浏览器内核就是渲染进程，
1. GUI线程
 - 负责渲染浏览器界面，包括解析html、css，构建DOM树，Render树，布局与绘制等
 - 当界面需要重绘或触发回流时，该线程就会被触发
2. js引擎线程
 - js内核，负责处理JavaScript脚本
 - 等待任务队列进行执行，任何时候只有一个js引擎在运行
3. 事件触发线程
 - 当js执行代码块，如setTimeout，点击事件，会将对应任务添加到事件线程中
 - 当事件被触发时，该线程会把事件添加到任务队列
4. 定时器触发线程
 - setInterval与setTimeout所在线程，由于js引擎是单线程，如果堵塞会影响计时器精确性
 - 定时器被触发时会被添加到事件队列，等待js引擎空闲时执行
5. 异步HTTP请求线程
 - 在XMLHttpRequest请求时会开启
 - 将回调函数添加到事件队列，等到js引擎空闲时执行

> js引擎线程与GUI线程互斥，同时只有一个在执行

